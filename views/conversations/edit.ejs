<%- include('../partials/header') %>

<div class="container">
  <h1>Edit Conversation</h1>
<form action="/conversations/<%= conversation.id %>/update" method="POST">
    <div class="form-group">
      <label>Title</label>
      <input 
        type="text" 
        name="title" 
        class="form-control" 
        value="<%= conversation.title %>" 
        required 
      />
    </div>

    <div class="form-group mt-2">
      <label>Type</label>
      <select name="type" class="form-control" required>
        <option value="1to1" <%= conversation.type === "1to1" ? "selected" : "" %>>1 to 1</option>
        <option value="group" <%= conversation.type === "group" ? "selected" : "" %>>Group</option>
      </select>
    </div>

    <div class="form-group mt-2">
      <label>Created By</label>
      <select name="created_by" class="form-control" required>
        <% users.forEach(user => { %>
          <option value="<%= user.id %>" <%= user.id === conversation.created_by ? "selected" : "" %>>
            <%= user.name %>
          </option>
        <% }) %>
      </select>
    </div>

    <button type="submit" class="btn btn-primary mt-3">ðŸ’¾ Update</button>
    <a href="/conversations" class="btn btn-secondary mt-3">â¬… Back</a>
  </form>
</div>

<%- include('../partials/footer') %>
